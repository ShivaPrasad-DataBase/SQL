Sequence is a database object which is useing to automatically generates sequence number automatically.
Generally sequence are used to generates primary key values automatically.
Once sequence creates No of user simultaneously access.
Sequence is a independent database object.

Syntax:

      create sequence *sequence_name*
      start with *starting_value*
      increment by *increment_value*
      minvalue *minimum_value*
      maxvalue *maximum_value*
      cycle/nocycle
      cache/nocache;
      
Example:
      
      create sequence s1
      start with 1
      increment by 1
      minvalue 1
      maxvalue 100
      cycle/nocycle
      cache/nocache;
* start with value and minvalue should be same or start with value greater than minvalue.
* if we can describe sequence values with character values then get error.
 
   
Example:

        create sequence s1
        start with 'one'
        increment by 'one'
        minvalue 'one'
        maxvalue 'five'
        nocycle
        nocache;

 ORA-01722: invalid number

-> if we want to generate sequence value or access sequence value then we are using following 2 pseudo columns
these are:

1)currval
syntax:squence_name.currval;
2)nextval
syntax:squence_name.nextval;

this pseudo statments also using in DML Operations.

in oracle if we want to check the sequence values then we must use dual table.

ex:

   create sequence s2
   start with 110
   increment by 5
   minvalue 100
   maxvalue 190
   nocycle
   nocache;
 
 select s2.currvalue from dual;
 error: sequence s2.currvale is not yet defined in this session
 * In oracle we want to generate first sequence number then we must use nextval pseudo column, 
 because currval pseudo column return current value of the sequence. 
 If sequence session already having a value
 
 select s2.nextval from dual;
 110
 select s2.nextval from dual;
 115
 .
 .
 .
 .
 select s2.nextval from dual;
 190
 select s2.nextval from dual;
ORA-08004: sequence S2.NEXTVAL exceeds MAXVALUE and cannot be instantiated 
 
 ** if currval and nextval in diffrent sessions
 session 1
 ---------
 select s1.nextval from dual;
 1
select s1.nextval from dual;
 2
 select s1.nextval from dual;
 3
 select s1.currval from dual;
 3
 
  session 2
 ---------
 select s1.nextval from dual;
 4
select s1.nextval from dual;
 5
 select s1.nextval from dual;
 6
 select s1.nextval from dual;
 7
 select s1.currval from dual;
 7
 
 ->If we want to generate primary key values automatically then we are using auto increment concepts in all databases.
 
 Syntax:
 columnname datatype(size) default sequencename.nextval primary key;
 
 create sequence s3
 start with 1001
 increment by 1
 minvalue 1001
 maxvalue 9999
 nocycle
 nocache;
 
 create table test(sno number(4) default s3.nextval primary key,name varchar(20));
 insert into test(name)values('shiva');
 insert into test(name)values('prasad');
 insert into test(name)values('oracle');
 insert into test values(s3.nextval,'sql');
 insert into test(sno,name)values(s3.nextval,'plsql');
 select * from test;
 
SNO	NAME
1001	shiva
1002	prasad
1003	oracle
1004	sql
1005	plsql
5 rows selected.

update 
-----
alter table test add ord number(2);
create sequence s4 start with 10;
update test set ord=s4.nextval;
select * from test;

SNO	NAME	   ORD
1001	shiva	   10
1002	prasad   11
1003	oracle   12
1004	sql	   13
1005	plsql	   14

5 rows selected.

in oracle we can also change sequence parameter value by suing alter command but we are not allowed to change starting sequnce number.

sysntax
     alter sequence sequence_name
     parameter_name new_value;
 
 example:
 
 create sequence s5
 start with 1
 increment by 1
 minvalue 1
 maxvalue 100
 nocycle
 nocache;
 
 create table test_2(sno number(3) default s5.nextval,name varchar2(20));
 insert into test_2 (name) values('shiva');
 insert into test_2 (name) values('prasad');
 insert into test_2 (name) values('oracle');
 
 select * from test_2;
 
 SNO	NAME
1	shiva
2	prasad
3	oracle
3 rows selected.

alter sequence s5 increment by -1;
  insert into test_2 (name) values('sql');
 insert into test_2 (name) values('plsql');
 
 select * from test_2;
 
 SNO	NAME
1	shiva
2	prasad
3	oracle
2	sql
1	plsql
5 rows selected.

NOTE: In sequence start with cannot be less then minvalue.

ex:
create sequence s6 
start with 100
increment by 5
minvalue 110
maxvalue 200
nocycle
nocache;

error:start with cannot be less than minvalue.

Cycle:
------
when ever write sequence we mention cycle or no cycle it is optional, but by default nocycle.

example
------

create sequence s7
start with 1
increment by 1
minvalue 1
maxvalue 3;

create table test (sno number(5) default s1.nextval, name varchar2(50));
insert into test(name)values('sp');
insert into test(name)values('sp');
insert into test(name)values('sp');
insert into test(name)values('sp');

error:ORA-08004: sequence S1.NEXTVAL exceeds MAXVALUE and cannot be instantiated

Cache:
------
->cache is a memory area which is used to access sequence value very fastly.
->generally cache memory area stores set of sequence numbers which is used to improves performance of the sequence.
->generally whenever we are creating a sequence then the sequence are generated in harddisk.
whenever we are requesting sequence value by using currval and nextval through a tool then server process checks it requested sequence is aviable 
in cache memory area.if it is not aviable in oracle in cache memory area then oracle servers searches requested sequencea are available in 
harddisk if it is avaible then only oracle server fetches requested sequence value to cache memory area.then only  that value is return to client tool.
->whenever we are requesting sequence number more no of time then this process degrades performance of the sequence to overcome this problem
for improve the performance of the sequence we are putting set of sequence no in cache memory area by using cache optional clause, then only whenever
we are using sequence number then server process directly fetches numbers from cache memory area, this process improve perforamnce of the
sequence because it reduces disk input and output.
->by default oracle sequence cache value is 20 and minimum cache value is 2;

* In oracle sequence object information stores in "user_sequences" data dictionary.

   select * from user_sequences;
   
   SEQUENCE_NAME	MIN_VALUE	MAX_VALUE	INCREMENT_BY	CYCLE_FLAG	ORDER_FLAG	CACHE_SIZE	LAST_NUMBER	SCALE_FLAG	EXTEND_FLAG	SHARDED_FLAG	SESSION_FLAG	KEEP_VALUE
          S1	      1	10	      1	                  N	N	            20	      11	      N	      N	      N	            N	            N


   




      
   
